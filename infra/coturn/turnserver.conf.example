# QRing production coturn template
# Copy to /etc/turnserver.conf (or mount into container) and replace placeholders.

# Network interfaces
listening-ip=0.0.0.0
relay-ip=<TURN_PUBLIC_IP>
external-ip=<TURN_PUBLIC_IP>

# Ports
listening-port=3478
tls-listening-port=5349
min-port=49152
max-port=65535

# Auth and realm (long-term credentials)
lt-cred-mech
realm=<TURN_REALM_FQDN>
user=<TURN_USERNAME>:<TURN_PASSWORD>

# Security hardening
fingerprint
stale-nonce=600
no-tlsv1
no-tlsv1_1
no-multicast-peers
no-loopback-peers
no-cli

# TLS certificates for turns: (required for 5349)
cert=/etc/letsencrypt/live/<TURN_REALM_FQDN>/fullchain.pem
pkey=/etc/letsencrypt/live/<TURN_REALM_FQDN>/privkey.pem

# Capacity and abuse controls
total-quota=200
bps-capacity=0
max-bps=0

# Logs
simple-log
log-file=stdout

# Optional: if behind strict firewall, keep relay traffic predictable
# allowed-peer-ip=<BACKEND_PUBLIC_IP>
